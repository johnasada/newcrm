<!--AJAX Starts Here-->
<script>
    // Add button

    $(document).on('click', '#add-button', function(e){
        e.preventDefault();

        $.ajax({
            type: 'POST',
            url: '{% url "cart:cart-add" %}',
            data: {
                product_id: $('#add-button').val(),
                product_quantity: $("#select option:selected").text(),
                csrfmiddlewaretoken: "{{csrf_token}}",
                action: 'post'
            },

            success: function(json){

                //console.log(json)

                //Sets the text content of the cart-qty in base.html
                //test to see if our cart adjusts automatically. remove the 0 for now.
                document.getElementById("cart-qty").textContent = json.qty
            },

            error: function(xhr, errmsg, err){

            }
        });
    })

    // Add button 2
    $(document).on('click', '.add-button', function(e){
        e.preventDefault();

        $.ajax({
            type: 'POST',
            url: '{% url "cart:cart-add" %}',
            data: {
                product_id: $('.add-button').val(),
                product_quantity: $("#select option:selected").text(),
                csrfmiddlewaretoken: "{{csrf_token}}",
                action: 'post'
            },

            success: function(json){

                //console.log(json)

                //Sets the text content of the cart-qty in base.html
                //test to see if our cart adjusts automatically. remove the 0 for now.
                document.getElementById("cart-qty").textContent = json.qty
            },

            error: function(xhr, errmsg, err){

            }
        });
    })
</script>